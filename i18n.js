/**
 * Portfolio i18n - EN, ES, IT
 * Keys must match data-i18n attributes in index.html
 */
const translations = {
    en: {
        // Nav
        nav_about: 'About',
        nav_skills: 'Skills',
        nav_education: 'Education',
        nav_experience: 'Experience',
        nav_projects: 'Projects',
        nav_contact: 'Contact',
        // Home
        hero_greeting: "Hi, I'm",
        hero_role: 'Digital Marketer',
        hero_bio: "Digital Marketer with experience in social media, content creation, video editing (TikTok, Reels, Shorts), and branding. I plan and produce content that aligns with brand identity, manage editorial calendars, and collaborate with brands and influencers. Fluent in Spanish, English, and Italian. Open to new challenges and opportunities.",
        btn_contact: 'Contact Me',
        btn_cv: 'Download CV',
        // Section titles
        title_skills: 'Skills',
        title_education: 'Education',
        title_experience: 'Experience',
        title_projects: 'Projects',
        title_contact: 'Touch',
        title_contact_prefix: 'Get In',
        // Skills
        skill_cat_skills: 'Skills',
        skill_cat_tools: 'Tools',
        skill_cat_languages: 'Languages',
        skill_creativity: 'Creativity',
        skill_communication: 'Effective Communication',
        skill_analytical: 'Analytical Thinking',
        skill_storytelling: 'Storytelling',
        skill_teamwork: 'Teamwork',
        skill_time: 'Time Management',
        skill_problem: 'Problem Solving',
        skill_spanish: 'Spanish (Native)',
        skill_english: 'English (Advanced)',
        skill_italian: 'Italian (Advanced)',
        // Education
        edu1_year: 'In progress',
        edu1_title: 'Data Science Degree',
        edu1_place: 'Universidad Siglo 21',
        edu1_desc: "Bachelor's degree in Data Science.",
        edu2_year: '2025',
        edu2_title: 'Professional Certificate in Digital Marketing and E-commerce',
        edu2_place: 'Google',
        edu2_desc: 'Certification covering digital marketing fundamentals and e-commerce.',
        edu3_year: 'July 2023 – April 2024',
        edu3_title: 'Digital Marketing Program',
        edu3_place: 'Coderhouse',
        edu3_desc: 'Full program including Growth Marketing, Advanced Social Media Advertising, and Community Management & Advertising.',
        edu4_year: '2008 – 2019',
        edu4_title: 'Communication High School Diploma',
        edu4_place: 'Learning Proyecto Integral',
        edu4_desc: 'IGCSE certifications in English as First Language, Art & Design, Literature, Business, Spanish, Environmental Management, Mathematics. First Certificate in English.',
        // Experience
        exp1_year: '2023 – Present',
        exp1_title: 'Freelance Digital Marketing',
        exp1_company: 'Self-employed',
        exp1_desc: 'Planning, creating, and managing social media content with a strategic focus on visual, editorial, and brand consistency. Video editing for TikTok, YouTube Shorts, and Reels. Design of graphics and posters. End-to-end creative projects from briefs: context analysis, concept, visual execution, and delivery. Involvement in branding (visual style and tone). Corporate presentations. Collaboration with brands and influencers for authentic, goal-oriented content.',
        exp2_year: '2025 – Present',
        exp2_title: 'Content & Social Media Specialist',
        exp2_company: 'SANTAVAL Studio',
        exp2_desc: "Development and execution of multilingual editorial calendars (Spanish and English) for digital platforms. Sophisticated, persuasive copywriting aligned with each brand's voice. Community management and audience engagement. Organic digital campaigns and performance reporting. Monthly content planning with themes and objectives. Scripts and copy for creative pieces. Analytical reports with insights and recommendations.",
        exp3_year: '2024 – 2025',
        exp3_title: 'Social Media Manager',
        exp3_company: 'Genova Hockey 1980',
        exp3_desc: "Design and implementation of the club's digital communication strategy to increase brand recognition, audience engagement, and online community growth. Visual and written content for each platform (static and dynamic) with Canva and Photoshop. Editorial calendar and publication flow. Monitoring and analysis of KPIs to evaluate organic results and optimize strategy.",
        exp4_year: '2024',
        exp4_title: 'Influencer Marketing',
        exp4_company: 'B-Key Media | TikTok Ecommerce Agency',
        exp4_desc: 'Influencer sourcing and selection for awareness and performance campaigns in beauty, fitness, fashion, and other sectors. Profile and audience evaluation for strategic alignment. End-to-end collaboration management: outreach, negotiation, content coordination, quality and deadlines. Brief adaptation to maximize campaign impact.',
        // Projects (titles are brand names, kept; subtitles and descriptions translated)
        proj1_subtitle: 'Growth Marketing & Paid Media',
        proj1_desc: 'End-to-end strategy for a medical personal brand focused on dermatology and aesthetic medicine. Included full-funnel analysis, content reorganization to strengthen professional authority, design of a WhatsApp-based lead capture system, and optimization of Meta Ads campaigns aimed at real consultations. Results: more predictable lead generation, more strategic content, and stronger communication.',
        proj2_subtitle: 'Brand Strategy & Storytelling',
        proj2_desc: 'Creation and launch of a capsule brand with an aspirational DNA. I developed the brand concept, storytelling, tone of voice, and content pillars for social media. The work included creative direction, definition of the visual universe, and a strategy to communicate through emotions, aspirations, and the target audience\'s lifestyle.',
        proj3_subtitle: 'Brand Positioning & Communication',
        proj3_desc: 'Positioning and communication work for a studio focused on premium brands. Included definition of tone, narrative, differentiating values, and editorial content foundations. The focus was on building a coherent, aspirational identity consistent with the studio\'s premium style, ensuring clarity and professionalism at every touchpoint.',
        proj4_subtitle: 'Conceptual Digital Marketing Plan',
        proj4_desc: 'Conceptual development of a digital strategy for a gastronomy brand inspired by Japanese culture. Includes positioning analysis, tone definition, content pillars, creative proposal, and tactical plan for social media, including activation and experience ideas. A project designed to showcase expertise in branding and F&B marketing.',
        proj5_subtitle: 'Rebranding & Institutional Communication',
        proj5_desc: "Complete overhaul of the visual and verbal identity of a human capital consultancy. I worked on clarifying the value proposition, modernizing the visual presence, improving message consistency, and creating more professional, serious communication aligned with the brand's corporate profile. A strategic rather than purely aesthetic project, focused on organizing and elevating the brand.",
        btn_view_project: 'View Project',
        btn_view_behance: 'View on Behance',
        // Contact
        contact_whatsapp: 'WhatsApp',
        contact_email: 'Email',
        // Footer
        footer_rights: 'All rights reserved.'
    },
    es: {
        nav_about: 'Sobre mí',
        nav_skills: 'Habilidades',
        nav_education: 'Formación',
        nav_experience: 'Experiencia',
        nav_projects: 'Proyectos',
        nav_contact: 'Contacto',
        hero_greeting: 'Hola, soy',
        hero_role: 'Marketing Digital',
        hero_bio: 'Marketer digital con experiencia en redes sociales, creación de contenido, edición de video (TikTok, Reels, Shorts) y branding. Planifico y produzco contenido alineado con la identidad de marca, gestiono calendarios editoriales y colaboro con marcas e influencers. Fluido en español, inglés e italiano. Abierto a nuevos desafíos y oportunidades.',
        btn_contact: 'Contacto',
        btn_cv: 'Descargar CV',
        title_skills: 'Habilidades',
        title_education: 'Formación',
        title_experience: 'Experiencia',
        title_projects: 'Proyectos',
        title_contact: 'Contacto',
        skill_cat_skills: 'Habilidades',
        skill_cat_tools: 'Herramientas',
        skill_cat_languages: 'Idiomas',
        skill_creativity: 'Creatividad',
        skill_communication: 'Comunicación efectiva',
        skill_analytical: 'Pensamiento analítico',
        skill_storytelling: 'Storytelling',
        skill_teamwork: 'Trabajo en equipo',
        skill_time: 'Gestión del tiempo',
        skill_problem: 'Resolución de problemas',
        skill_spanish: 'Español (Nativo)',
        skill_english: 'Inglés (Avanzado)',
        skill_italian: 'Italiano (Avanzado)',
        edu1_year: 'En curso',
        edu1_title: 'Licenciatura en Ciencia de Datos',
        edu1_place: 'Universidad Siglo 21',
        edu1_desc: 'Licenciatura en Ciencia de Datos.',
        edu2_year: '2025',
        edu2_title: 'Certificado Profesional en Marketing Digital y E-commerce',
        edu2_place: 'Google',
        edu2_desc: 'Certificación en fundamentos de marketing digital y e-commerce.',
        edu3_year: 'Julio 2023 – Abril 2024',
        edu3_title: 'Carrera de Marketing Digital',
        edu3_place: 'Coderhouse',
        edu3_desc: 'Programa completo: Growth Marketing, Publicidad Avanzada en Redes Sociales, Community Management y Publicidad.',
        edu4_year: '2008 – 2019',
        edu4_title: 'Bachiller en Comunicación',
        edu4_place: 'Learning Proyecto Integral',
        edu4_desc: 'Certificaciones IGCSE en Inglés, Arte y Diseño, Literatura, Negocios, Español, Gestión ambiental, Matemática. First Certificate in English.',
        exp1_year: '2023 – Presente',
        exp1_title: 'Marketing Digital Freelance',
        exp1_company: 'Autónomo',
        exp1_desc: 'Planificación, creación y gestión de contenido para redes sociales con foco en coherencia visual, editorial y de marca. Edición de video para TikTok, YouTube Shorts y Reels. Diseño de piezas gráficas. Proyectos creativos integrales desde briefs: análisis, concepto, ejecución visual y entrega. Participación en branding. Presentaciones corporativas. Colaboración con marcas e influencers.',
        exp2_year: '2025 – Presente',
        exp2_title: 'Especialista en Contenido y Social Media',
        exp2_company: 'SANTAVAL Studio',
        exp2_desc: 'Desarrollo y ejecución de calendarios editoriales multilingües (español e inglés). Copywriting persuasivo alineado con la voz de cada marca. Gestión de comunidades e informes de desempeño. Planificación mensual de contenido. Informes analíticos con insights y recomendaciones.',
        exp3_year: '2024 – 2025',
        exp3_title: 'Social Media Manager',
        exp3_company: 'Genova Hockey 1980',
        exp3_desc: 'Diseño e implementación de la estrategia de comunicación digital del club. Contenido visual y escrito con Canva y Photoshop. Calendario editorial y análisis de KPIs para optimizar la estrategia.',
        exp4_year: '2024',
        exp4_title: 'Influencer Marketing',
        exp4_company: 'B-Key Media | TikTok Ecommerce Agency',
        exp4_desc: 'Búsqueda y selección de influencers para campañas de awareness y performance. Evaluación de perfiles y audiencias. Gestión de colaboraciones: difusión, negociación, coordinación de contenido.',
        proj1_subtitle: 'Growth Marketing y Medios Pagos',
        proj1_desc: 'Estrategia integral para una marca personal médica enfocada en dermatología y medicina estética: análisis del funnel, reorganización de contenido, sistema de captación por WhatsApp y optimización de campañas Meta Ads. Resultados: mayor previsibilidad en leads, contenido más estratégico y comunicación más sólida.',
        proj2_subtitle: 'Estrategia de marca y storytelling',
        proj2_desc: 'Creación y lanzamiento de una marca cápsula con ADN aspiracional. Concepto de marca, storytelling, tono comunicacional y pilares de contenido. Dirección creativa, universo visual y estrategia desde emociones y aspiraciones del público objetivo.',
        proj3_subtitle: 'Posicionamiento y comunicación de marca',
        proj3_desc: 'Posicionamiento y comunicación para un estudio orientado a marcas premium. Definición de tono, narrativa, valores diferenciales y bases de contenido editorial. Identidad coherente, aspiracional y consistente con el estilo premium del estudio.',
        proj4_subtitle: 'Plan conceptual de marketing digital',
        proj4_desc: 'Desarrollo conceptual de estrategia digital para una marca gastronómica inspirada en la cultura japonesa. Análisis de posicionamiento, tono, pilares de contenido, propuesta creativa y plan táctico para redes, con ideas de activaciones. Ejercicio de criterio en branding y marketing gastronómico.',
        proj5_subtitle: 'Rebranding y comunicación institucional',
        proj5_desc: 'Reorganización de la identidad visual y verbal de una consultora de capital humano. Clarificación de la propuesta de valor, modernización de la presencia visual, coherencia de mensajes y comunicación más profesional y alineada al perfil corporativo. Proyecto estratégico enfocado en ordenar y elevar la marca.',
        btn_view_project: 'Ver proyecto',
        btn_view_behance: 'Ver en Behance',
        contact_whatsapp: 'WhatsApp',
        contact_email: 'Email',
        footer_rights: 'Todos los derechos reservados.'
    },
    it: {
        nav_about: 'Chi sono',
        nav_skills: 'Competenze',
        nav_education: 'Formazione',
        nav_experience: 'Esperienza',
        nav_projects: 'Progetti',
        nav_contact: 'Contatti',
        hero_greeting: 'Ciao, sono',
        hero_role: 'Digital Marketer',
        hero_bio: 'Digital Marketer con esperienza in social media, creazione di contenuti, video editing (TikTok, Reels, Shorts) e branding. Pianifico e produco contenuti allineati all\'identità di marca, gestisco calendari editoriali e collaboro con brand e influencer. Fluente in spagnolo, inglese e italiano. Aperto a nuove sfide e opportunità.',
        btn_contact: 'Contattami',
        btn_cv: 'Scarica CV',
        title_skills: 'Competenze',
        title_education: 'Formazione',
        title_experience: 'Esperienza',
        title_projects: 'Progetti',
        title_contact: 'Contatti',
        skill_cat_skills: 'Competenze',
        skill_cat_tools: 'Strumenti',
        skill_cat_languages: 'Lingue',
        skill_creativity: 'Creatività',
        skill_communication: 'Comunicazione efficace',
        skill_analytical: 'Pensiero analitico',
        skill_storytelling: 'Storytelling',
        skill_teamwork: 'Lavoro di squadra',
        skill_time: 'Gestione del tempo',
        skill_problem: 'Problem solving',
        skill_spanish: 'Spagnolo (Madrelingua)',
        skill_english: 'Inglese (Avanzato)',
        skill_italian: 'Italiano (Avanzato)',
        edu1_year: 'In corso',
        edu1_title: 'Laurea in Data Science',
        edu1_place: 'Universidad Siglo 21',
        edu1_desc: 'Laurea in Data Science.',
        edu2_year: '2025',
        edu2_title: 'Certificato professionale in Digital Marketing e E-commerce',
        edu2_place: 'Google',
        edu2_desc: 'Certificazione sui fondamenti del marketing digitale e e-commerce.',
        edu3_year: 'Luglio 2023 – Aprile 2024',
        edu3_title: 'Programma Digital Marketing',
        edu3_place: 'Coderhouse',
        edu3_desc: 'Programma completo: Growth Marketing, Pubblicità avanzata sui social, Community Management e Pubblicità.',
        edu4_year: '2008 – 2019',
        edu4_title: 'Diploma di scuola superiore in Comunicazione',
        edu4_place: 'Learning Proyecto Integral',
        edu4_desc: 'Certificazioni IGCSE in Inglese, Arte e Design, Letteratura, Business, Spagnolo, Gestione ambientale, Matematica. First Certificate in English.',
        exp1_year: '2023 – Presente',
        exp1_title: 'Digital Marketing Freelance',
        exp1_company: 'Autonomo',
        exp1_desc: 'Pianificazione, creazione e gestione di contenuti per i social con focus su coerenza visiva, editoriale e di brand. Video editing per TikTok, YouTube Shorts e Reels. Progetti creativi end-to-end da brief: analisi, concetto, esecuzione visiva. Partecipazione al branding. Presentazioni aziendali. Collaborazione con brand e influencer.',
        exp2_year: '2025 – Presente',
        exp2_title: 'Specialista Contenuti e Social Media',
        exp2_company: 'SANTAVAL Studio',
        exp2_desc: 'Sviluppo e realizzazione di calendari editoriali multilingue (spagnolo e inglese). Copywriting persuasivo allineato alla voce di ogni brand. Community management e report sulle performance. Pianificazione mensile dei contenuti. Report analitici con insight e raccomandazioni.',
        exp3_year: '2024 – 2025',
        exp3_title: 'Social Media Manager',
        exp3_company: 'Genova Hockey 1980',
        exp3_desc: 'Progettazione e implementazione della strategia di comunicazione digitale del club. Contenuti visivi e testuali per ogni piattaforma con Canva e Photoshop. Calendario editoriale e analisi KPI per ottimizzare la strategia.',
        exp4_year: '2024',
        exp4_title: 'Influencer Marketing',
        exp4_company: 'B-Key Media | TikTok Ecommerce Agency',
        exp4_desc: 'Ricerca e selezione di influencer per campagne di awareness e performance. Valutazione di profili e audience. Gestione delle collaborazioni: outreach, negoziazione, coordinamento contenuti.',
        proj1_subtitle: 'Growth Marketing e Paid Media',
        proj1_desc: 'Strategia end-to-end per un personal brand medico focalizzato su dermatologia e medicina estetica: analisi del funnel, riorganizzazione dei contenuti, sistema di lead capture via WhatsApp e ottimizzazione campagne Meta Ads. Risultati: lead più prevedibili, contenuti più strategici e comunicazione più solida.',
        proj2_subtitle: 'Brand strategy e storytelling',
        proj2_desc: 'Creazione e lancio di un brand capsula con DNA aspirazionale. Concept di marca, storytelling, tone of voice e pilastri di contenuto per i social. Direzione creativa, definizione dell\'universo visivo e strategia basata su emozioni e aspirazioni del target.',
        proj3_subtitle: 'Posizionamento e comunicazione di marca',
        proj3_desc: 'Lavoro di posizionamento e comunicazione per uno studio orientato a brand premium. Definizione di tono, narrativa, valori differenzianti e basi di contenuto editoriale. Identità coerente e aspirazionale in linea con lo stile premium dello studio.',
        proj4_subtitle: 'Piano concettuale di digital marketing',
        proj4_desc: 'Sviluppo concettuale di una strategia digitale per un brand della ristorazione ispirato alla cultura giapponese. Analisi di posizionamento, tono, pilastri di contenuto, proposta creativa e piano tattico per i social, con idee di attivazione. Progetto per dimostrare competenza in branding e marketing F&B.',
        proj5_subtitle: 'Rebranding e comunicazione istituzionale',
        proj5_desc: 'Riorganizzazione completa dell\'identità visiva e verbale di una consulenza risorse umane. Chiarezza della value proposition, modernizzazione della presenza visiva, coerenza dei messaggi e comunicazione più professionale in linea con il profilo corporate del brand.',
        btn_view_project: 'Vedi progetto',
        btn_view_behance: 'Vedi su Behance',
        contact_whatsapp: 'WhatsApp',
        contact_email: 'Email',
        footer_rights: 'Tutti i diritti riservati.'
    }
};

const LANG_KEY = 'portfolio-lang';
const DEFAULT_LANG = 'en';

function getStoredLang() {
    const stored = localStorage.getItem(LANG_KEY);
    if (stored && (stored === 'en' || stored === 'es' || stored === 'it')) return stored;
    return DEFAULT_LANG;
}

function setLang(lang) {
    if (!translations[lang]) return;
    localStorage.setItem(LANG_KEY, lang);
    document.documentElement.lang = lang === 'en' ? 'en' : lang === 'es' ? 'es' : 'it';
    applyTranslations(lang);
    updateLangSwitcherActive(lang);
}

function applyTranslations(lang) {
    const t = translations[lang];
    if (!t) return;
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (t[key] != null) el.textContent = t[key];
    });
    // Section titles (no "My..." prefix; span for accent)
    document.querySelectorAll('.section-title').forEach(el => {
        const id = el.closest('section')?.id;
        if (id === 'skills') el.innerHTML = '<span>' + t.title_skills + '</span>';
        else if (id === 'education') el.innerHTML = '<span>' + t.title_education + '</span>';
        else if (id === 'experience') el.innerHTML = '<span>' + t.title_experience + '</span>';
        else if (id === 'projects') el.innerHTML = '<span>' + t.title_projects + '</span>';
        else if (id === 'contact') {
            const prefix = t.title_contact_prefix;
            el.innerHTML = prefix ? prefix + ' <span>' + t.title_contact + '</span>' : '<span>' + t.title_contact + '</span>';
        }
    });
}

function updateLangSwitcherActive(lang) {
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
    });
}

function initI18n() {
    const lang = getStoredLang();
    setLang(lang);
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', () => setLang(btn.getAttribute('data-lang')));
    });
}

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initI18n);
} else {
    initI18n();
}
